package:
    name: multicut_pipeline

    {% set tagged_version = GIT_DESCRIBE_TAG|replace("v","")|replace("-", ".") %}

    # If we're using a non-tagged revision, append '.postN' to the version
    {% if GIT_DESCRIBE_NUMBER|int != 0 %}
        {% set tagged_version = tagged_version + '.post' + GIT_DESCRIBE_NUMBER %}
    {% endif %}

    version: {{tagged_version}}

source:
    path: ../..

build:
    number: 1
    string: py_{{PKG_BUILDNUM}}_g{{GIT_FULL_HASH[:7]}}

requirements:
    build:
        - python {{PY_VER}}*
    run:
        - python {{PY_VER}}*
        - vigra
        - nifty-with-cplex
        - h5py >=2.7
        - fastfilters
        - boost 1.63.0
        - scikit-learn >=0.18.2
        - futures # [py2k]

test:
    imports:
        - multicut_src

about:
    license: BSD
    summary: Neuro segmentation pipeline from probability maps to neurons
